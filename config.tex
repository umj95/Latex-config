% Custom Commands:
% Use \maketitle to print the title info on the first text page
% Use \maketitlepage to print a dedicated title page
% Use \plagiat to print a Plagiatserklärung on its own page
% After \tableofcontents a page break always follows
% Use \workscited to print the works cited page (new page)
% To add lilypond support, uncomment \usepackage{mylilypond}.
% Use \mylilypond[#1 #2] to include .ly-file, where #1 is the file(path) and #2 is the caption

%%%%%%%%%%%%%%%%%%%
%%%%%Variables%%%%%
%%%%%%%%%%%%%%%%%%%
    % Personal Info
    \author{} %Name
    \newcommand{\authormail}{} %Email
    \newcommand{\matrikelnr}{} %student number
    \newcommand{\authoraddress}{}%address

    % Department & Correction Info -- These should be sekf explanatory
    \newcommand{\city}{} 
    \newcommand{\university}{} 
    \newcommand{\faculty}{}
    \newcommand{\department}{} 
    \newcommand{\handindate}{\today} 

    \newcommand{\tutor}{} 
    \newcommand{\coursetype}{} 
    \newcommand{\coursetitle}{}
    \newcommand{\coursenumber}{}

    % Paper Info
    \title{} %title of the paper
    \date{\today}
    \newcommand{\papertype}{} %form of the paper (term paper, Proseminararbeit, etc)
    \newcommand{\keywords}{}

    % input encoding & language
    %\newcommand{\mainlanguage}{ngerman} %Uncomment if main language is German
    \newcommand{\mainlanguage}{UKenglish}
    \usepackage[ngerman, \mainlanguage]{babel}
%
% Literature & Bibliography Resources
%
\usepackage[babel]{csquotes}

\usepackage[style=mla,backend=biber]{biblatex}
    \addbibresource{} %.bib-file for literature

%
% Lilypond-support
%
%\usepackage{mylilypond}

%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%
%
% Create Titlepage, Plagiatserklärung etc.
%
%%%%%%%%%%%Full Page Title%%%%%%%%%%%%%%%%%%%%
\makeatletter
    \newcommand{\maketitlepage}{
        \phantomsection
        \pdfbookmark[0]{Cover}{Cover}%
        \label{Cover}
        \thispagestyle{empty}
        \begin{titlepage}

        %center page
        %\begin{adjustwidth}{-2cm}{}
        \renewcommand{\thepage}{}

        \begin{center}
            %change according to language of institution
            \selectlanguage{ngerman}

            \ifdefined\university
                \large{\university\\}
            \else
                \\ \fi

            \ifdefined\faculty
                \large{\faculty\\}
            \else
                \\ \fi

            \ifdefined\department
                \large{\department\\}
            \else
                \\ \fi

            \vspace*{6em}

            \foreignlanguage{UKenglish}{
                \Huge{\textsc{\@title}}
            }

            \vspace*{3em}

            \ifdefined\papertype
                \Large{\papertype\\ \vspace{2em}}
            \else
                \\ \fi

            \ifdefined\tutor
                \huge{\tutor\\ \vspace*{1.5em}}
            \else
                \\ \fi

            \ifdefined\handindate
                \large{Abgabedatum: \handindate\\}
            \else
                \large{\today\\} \fi

            %\includegraphics[width=0.35\textwidth]{Unisiegel.png}}

        \end{center}
        \vfill

        \begin{flushleft}
        \@author\\
        \ifdefined\authormail
            \href{mailto:\authormail}{\authormail}\\
        \else \\ \fi
        \ifdefined\matrikelnr
            {Matrikelnummer: \matrikelnr\\}
        \else \\ \fi
        \ifdefined\authoraddress
            \authoraddress\\
        \else \\ \fi
        \end{flushleft}

        %\end{adjustwidth}
        \selectlanguage{\mainlanguage}
        \end{titlepage}

        \newpage
    }
\makeatother

%%%%%%%%%%%%%%%%%%Simple Title%%%%%%%%%%%%%%%%%%
\makeatletter
    \renewcommand\maketitle{
        \selectlanguage{ngerman}
        \begin{flushleft}
            \@author\\
            \coursetype~\emph{\coursetitle}\\
            Kursnummer: \coursenumber\\
            \tutor\\
            \handindate
        \end{flushleft}

        \begin{center}
            \vspace{2em}
            \textsc{\huge{\@title}}\\[4ex]
        \end{center}
        \selectlanguage{\mainlanguage}
    }
\makeatother

%%%%%%%%%%%%%%%Table of Contents%%%%%%%%%%%%%%%%%
\let\tableofcontentsORIG\tableofcontents
\renewcommand\tableofcontents{\thispagestyle{empty}\tableofcontentsORIG\clearpage}

%%%%%%%%%%%%%%%Works Cited%%%%%%%%%%%%%%%%%%%%%%%

\newcommand{\workscited}{
    \newpage
    \phantomsection
    \addcontentsline{toc}{section}{Works Cited}
    \printbibliography
    }

%%%%%%%%%%%%%%%Plagiatserklärung%%%%%%%%%%%%%%%%%
\newcommand{\plagiat}{
    \newpage

    \selectlanguage{ngerman}
    \thispagestyle{empty}

    \section*{Plagiatserklärung}
    \pdfbookmark[0]{Plagiatserklärung}{Plagiatserklärung}

    \setlength{\parindent}{0em}

    \vspace*{20pt}
    Hiermit erkläre ich, dass ich die vorliegende Arbeit selbständig verfasst und keine anderen als die angegebenen Quellen und Hilfsmittel benutzt habe.

    \vspace*{65pt}

    \ifdefined\city
        {\city, den}
    \fi
    \ifdefined\handindate
        \handindate
    \else \today
    \fi \hfill \author
    }
